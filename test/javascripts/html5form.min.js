/*!
 * HTML5Form v0.0.1
 * https://github.com/ourai/HTML5Form
 *
 * Copyright 2015, 2015 Ourairyu, http://ourai.ws/
 *
 * Date: 2015-01-24
 */

!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j;e={name:"H5F",version:"0.0.1"},f={NUMBER:/^\d+(\.0+)?$/},b={COULD_NOT_BE_EMPTY:"COULD_NOT_BE_EMPTY",UNKNOWN_INPUT_TYPE:"UNKNOWN_INPUT_TYPE",INVALID_VALUE:"INVALID_VALUE",NOT_A_NUMBER:"NOT_A_NUMBER",UNDERFLOW:"UNDERFLOW",OVERFLOW:"OVERFLOW"},g=function(a){var b,c;switch(a.get(0).tagName.toLowerCase()){case"textarea":b="textarea";break;case"input":b=null!=(c=a.attr("type"))?c:"text"}return b},i=function(){return this.valid=!0,this.message=""},j=function(a){return parseFloat(a)},h=function(a,b){var c;return c=$(a).prop(b),$.isNumeric(c)?j(c):null},c=function(){function a(a){a=$(a),this.element=a.get(0),this.form=a.closest("form").get(0),this.pattern=a.attr("pattern"),this.type=g(a),this.required=a.prop("required"),i.call(this)}return a.prototype.value=function(){return $(this.element).val()},a.prototype.reset=i,a.prototype.validate=function(){var a,c,d,e;if(a=this.element,e=this.value(),this.required&&""===$.trim(e))this.valid=!1,this.message=b.COULD_NOT_BE_EMPTY;else if(-1===$.inArray(this.type,["checkbox","radio","hidden"]))switch(this.type){case"text":case"password":case"textarea":null!=this.pattern&&""!==this.pattern&&(this.valid=new RegExp("^"+this.pattern+"$").test(e),this.valid||(this.message=b.INVALID_VALUE));break;case"number":this.valid=f.NUMBER.test(e),this.valid?(d=h(a,"min"),c=h(a,"max"),null!=d&&j(e)<d?(this.valid=!1,this.message=b.UNDERFLOW):null!=c&&j(e)>c&&(this.valid=!1,this.message=b.OVERFLOW)):this.message=b.NOT_A_NUMBER;break;default:this.message=b.UNKNOWN_INPUT_TYPE}return $(a).trigger("validate:"+(this.valid?"success":"fail"),this),this.valid},a}(),d={version:e.version,init:function(a){return $(a).each(function(){var a,b,d;return d=$(this),b="H5F-inited",d.data(b)!==!0?(d.attr("novalidate",!0),null==d.attr("data-novalidate")&&(a=[],$("[name]:not(select, [type='checkbox'], [type='radio'])",d).each(function(){return a.push(new c(this))}),d.data("H5F-fields",a)),d.data(b,!0)):void 0})},errors:function(a){return $.extend(b,a)}},$(document).on("submit","form:not([data-novalidate])",function(){var a,b;return a=!0,$.each(null!=(b=$(this).data("H5F-fields"))?b:[],function(){return this.reset(),this.validate()||(a=!1),!0}),a}),a[e.name]=d});
//# sourceMappingURL=html5form.min.map