/*!
 * Html5form v0.0.1
 * https://github.com/ourai/html5form
 *
 * Copyright 2015, 2015 Ourairyu, http://ourai.ws/
 *
 * Date: 2015-01-27
 */

!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;e={name:"H5F",version:"0.0.1"},f={NUMBER:/^\d+(\.0+)?$/},b={COULD_NOT_BE_EMPTY:"COULD_NOT_BE_EMPTY",UNKNOWN_INPUT_TYPE:"UNKNOWN_INPUT_TYPE",INVALID_VALUE:"INVALID_VALUE",NOT_A_NUMBER:"NOT_A_NUMBER",UNDERFLOW:"UNDERFLOW",OVERFLOW:"OVERFLOW"},g=function(a){var b,c;switch(a.get(0).tagName.toLowerCase()){case"textarea":b="textarea";break;case"input":b=null!=(c=a.attr("type"))?c:"text"}return b},i=function(a){return-1!==$.inArray($(a).prop("type"),["radio","checkbox"])},j=function(){return this.valid=!0,this.message=""},k=function(a){return parseFloat(a)},h=function(a,b){var c;return c=$(a).prop(b),$.isNumeric(c)?k(c):null},c=function(){function a(a){a=$(a),this.type=g(a),this.name=a.prop("name"),this.form=a.closest("form").get(0),i(a)?(this.element=$.makeArray($("[name='"+this.name+"']",$(this.form))),this.required=$("[name='"+this.name+"'][required]",$(this.form)).size()>0):(this.element=a.get(0),this.required=a.prop("required"),this.pattern=a.attr("pattern")),j.call(this)}return a.prototype.value=function(){return i(this.element)?$("[name='"+this.name+"']:checked",$(this.form)).val():$(this.element).val()},a.prototype.reset=j,a.prototype.validate=function(){var a,c,d,e;if(a=this.element,e=this.value(),this.required&&""===$.trim(e))this.valid=!1,this.message=b.COULD_NOT_BE_EMPTY;else switch(this.type){case"text":case"password":case"textarea":null!=this.pattern&&""!==this.pattern&&(this.valid=new RegExp("^"+this.pattern+"$").test(e),this.valid||(this.message=b.INVALID_VALUE));break;case"number":this.valid=f.NUMBER.test(e),this.valid?(d=h(a,"min"),c=h(a,"max"),null!=d&&k(e)<d?(this.valid=!1,this.message=b.UNDERFLOW):null!=c&&k(e)>c&&(this.valid=!1,this.message=b.OVERFLOW)):this.message=b.NOT_A_NUMBER;break;default:this.message=b.UNKNOWN_INPUT_TYPE}return $($.isArray(a)?a[0]:a).trigger("H5F:"+(this.valid?"valid":"invalid"),this),this.valid},a}(),d={version:e.version,init:function(a){return $(a).each(function(){var a,b,d,e;return d=$(this),b="H5F-inited",d.data(b)!==!0?(d.attr("novalidate",!0),null==d.attr("data-novalidate")&&(a=[],e={},$("[name]:not(select, [type='hidden'])",d).each(function(){var b,d,f;return b=$(this),d=b.prop("name"),"radio"!==(f=b.prop("type"))&&"checkbox"!==f?a.push(new c(this)):null==e[d]?(e[d]=!0,a.push(new c(this))):void 0}),d.data("H5F-fields",a)),d.data(b,!0)):void 0})},errors:function(a){return $.extend(b,a)},rules:function(a){return $.extend(f,a)}},$(document).on("submit","form:not([data-novalidate])",function(){var a,b;return a=!0,$.each(null!=(b=$(this).data("H5F-fields"))?b:[],function(){return this.reset(),this.validate()||(a=!1),!0}),a}),a[e.name]=d});
//# sourceMappingURL=html5form.min.map